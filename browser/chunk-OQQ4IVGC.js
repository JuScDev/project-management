import{a as v}from"./chunk-M5UTUGWM.js";import{a as V}from"./chunk-VOE6KC63.js";import"./chunk-Z3PJB6SC.js";import{a as F,b as B,c as I,d as O,e as T,f as D,g as L}from"./chunk-UZTVE72L.js";import{da as q,fa as A,j as h,k as b,m as x,n as R,q as S,r as y,s as w,t as E,u as N,w as P,x as k}from"./chunk-3KCAOOFU.js";import{Db as l,Fb as _,Pb as r,Qb as C,Ua as a,ba as s,eb as c,jb as f,qb as d,ub as M,xa as m,xb as e,yb as t}from"./chunk-7H4R236B.js";function G(o,u){if(o&1&&(e(0,"p",7),r(1),t()),o&2){let i=_();a(),C(i.errorMessage())}}var j=class o{username=m("");password=m("");errorMessage=m("");_authService=s(v);_router=s(h);_snackBar=s(V);register(){this._authService.register(this.username(),this.password()).subscribe({next:()=>{this._snackBar.open("Registration successful!","Close",{duration:3e3}),this._router.navigate(["/login"])},error:()=>{this.errorMessage.set("Registration failed. Please try again."),this._snackBar.open(this.errorMessage(),"Close",{duration:3e3,panelClass:"snackbar-error"})}})}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=c({type:o,selectors:[["app-register"]],decls:17,vars:3,consts:[[1,"login-container"],[3,"submit"],["appearance","outline"],["matInput","","name","username","required","",3,"ngModelChange","ngModel"],["matInput","","type","password","name","password","required","",3,"ngModelChange","ngModel"],["mat-flat-button","","color","primary","type","submit"],["routerLink","/login",1,"go-to-auth"],[1,"error"]],template:function(i,n){i&1&&(e(0,"mat-card",0)(1,"h2"),r(2,"Register"),t(),e(3,"form",1),l("submit",function(){return n.register()}),e(4,"mat-form-field",2)(5,"mat-label"),r(6,"Username"),t(),e(7,"input",3),l("ngModelChange",function(p){return n.username.set(p)}),t()(),e(8,"mat-form-field",2)(9,"mat-label"),r(10,"Password"),t(),e(11,"input",4),l("ngModelChange",function(p){return n.password.set(p)}),t()(),e(12,"button",5),r(13,"Register"),t()(),e(14,"a",6),r(15,"Already an account? Login"),t(),f(16,G,2,1,"p",7),t()),i&2&&(a(7),d("ngModel",n.username()),a(4),d("ngModel",n.password()),a(5),M(n.errorMessage()?16:-1))},dependencies:[k,N,R,S,y,P,E,w,x,b,B,F,T,O,I,L,D,A,q],styles:[".login-container[_ngcontent-%COMP%]{max-width:400px;margin:50px auto;padding:20px;text-align:center;box-shadow:0 4px 8px #0000001a;border-radius:8px}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}button[type=submit][_ngcontent-%COMP%]{padding:10px 20px}.error[_ngcontent-%COMP%]{color:red;margin-top:10px}.go-to-auth[_ngcontent-%COMP%]{margin-top:20px}"]})};export{j as RegisterComponent};
