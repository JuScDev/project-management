import{a as v}from"./chunk-M5UTUGWM.js";import{a as I,b as D,c as O,d as R,e as T,f as k,g as q}from"./chunk-UZTVE72L.js";import{da as V,fa as A,j as h,k as b,m as x,n as S,q as L,r as w,s as y,t as E,u as N,w as P,x as F}from"./chunk-3KCAOOFU.js";import{Db as s,Fb as _,Pb as n,Qb as C,Ua as a,ba as p,eb as c,jb as f,qb as d,ub as M,xa as m,xb as e,yb as t}from"./chunk-7H4R236B.js";function j(r,u){if(r&1&&(e(0,"p",7),n(1),t()),r&2){let o=_();a(),C(o.errorMessage())}}var B=class r{username=m("");password=m("");errorMessage=m("");_authService=p(v);_router=p(h);login(){this._authService.login(this.username(),this.password()).subscribe({next:()=>{this._router.navigate(["/dashboard"])},error:()=>{this.errorMessage.set("Login failed. Please check your username and password.")}})}static \u0275fac=function(o){return new(o||r)};static \u0275cmp=c({type:r,selectors:[["app-login"]],decls:17,vars:3,consts:[[1,"login-container"],[3,"submit"],["appearance","outline"],["matInput","","name","username","required","",3,"ngModelChange","ngModel"],["matInput","","type","password","name","password","required","",3,"ngModelChange","ngModel"],["mat-flat-button","","color","primary","type","submit"],["routerLink","/register",1,"go-to-auth"],[1,"error"]],template:function(o,i){o&1&&(e(0,"mat-card",0)(1,"h2"),n(2,"Login"),t(),e(3,"form",1),s("submit",function(){return i.login()}),e(4,"mat-form-field",2)(5,"mat-label"),n(6,"Username"),t(),e(7,"input",3),s("ngModelChange",function(l){return i.username.set(l)}),t()(),e(8,"mat-form-field",2)(9,"mat-label"),n(10,"Password"),t(),e(11,"input",4),s("ngModelChange",function(l){return i.password.set(l)}),t()(),e(12,"button",5),n(13,"Login"),t()(),e(14,"a",6),n(15,"Don't have an account? Register"),t(),f(16,j,2,1,"p",7),t()),o&2&&(a(7),d("ngModel",i.username()),a(4),d("ngModel",i.password()),a(5),M(i.errorMessage()?16:-1))},dependencies:[F,N,S,L,w,P,E,y,x,b,D,I,T,R,O,q,k,A,V],styles:[".login-container[_ngcontent-%COMP%]{max-width:400px;margin:50px auto;padding:20px;text-align:center;box-shadow:0 4px 8px #0000001a;border-radius:8px}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}button[type=submit][_ngcontent-%COMP%]{padding:10px 20px}.error[_ngcontent-%COMP%]{color:red;margin-top:10px}.go-to-auth[_ngcontent-%COMP%]{margin-top:20px}"]})};export{B as LoginComponent};
